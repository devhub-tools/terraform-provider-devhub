---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "devhub_workflow Resource - devhub"
subcategory: ""
description: |-
  Workflow resource
---

# devhub_workflow (Resource)

Workflow resource

## Example Usage

```terraform
resource "devhub_workflow" "example" {
  name = "terraform_test"

  inputs = [
    {
      key         = "user_id"
      description = "User ID"
      type        = "string"
    }
  ]

  steps = [
    {
      name = "api-step"

      api_action = {
        endpoint             = "https://api.example.com/endpoint"
        method               = "GET"
        expected_status_code = 200
        include_devhub_jwt   = true
        headers = [
          { key = "content-type", value = "application/json" }
        ]
        body = "{\"user_id\": \"${user_id}\"}"
      }
    },
    {
      name = "slack-step"

      slack_action = {
        slack_channel = "my-channel"
        message       = "Hello, world!"
        link_text     = "Click here"
      }
    },
    {
      name = "query-step"

      query_action = {
        query         = "SELECT * FROM users WHERE id = '${user_id}'"
        credential_id = "crd_xxx"
        timeout       = 10
      }
    },
    {
      name = "approval-step"

      approval_action = {
        required_approvals = 1
      }
    },
    {
      name = "slack-reply-step"

      slack_reply_action = {
        reply_to_step_name = "slack-step"
        message            = "Workflow completed successfully"
      }
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the workflow.
- `steps` (Attributes List) (see [below for nested schema](#nestedatt--steps))

### Optional

- `inputs` (Attributes List) (see [below for nested schema](#nestedatt--inputs))

### Read-Only

- `id` (String) Workflow id.

<a id="nestedatt--steps"></a>
### Nested Schema for `steps`

Optional:

- `api_action` (Attributes) (see [below for nested schema](#nestedatt--steps--api_action))
- `approval_action` (Attributes) (see [below for nested schema](#nestedatt--steps--approval_action))
- `name` (String) The name of the step.
- `query_action` (Attributes) (see [below for nested schema](#nestedatt--steps--query_action))
- `slack_action` (Attributes) (see [below for nested schema](#nestedatt--steps--slack_action))
- `slack_reply_action` (Attributes) (see [below for nested schema](#nestedatt--steps--slack_reply_action))

Read-Only:

- `id` (String) Step id.

<a id="nestedatt--steps--api_action"></a>
### Nested Schema for `steps.api_action`

Required:

- `endpoint` (String) The endpoint for the API request.
- `expected_status_code` (Number) The expected status code for the API request.
- `include_devhub_jwt` (Boolean) Whether to include the Devhub JWT in the API request.
- `method` (String) The HTTP method for the API request.

Optional:

- `body` (String) The request body for the API request.
- `headers` (Attributes List) Headers for the API request. (see [below for nested schema](#nestedatt--steps--api_action--headers))

<a id="nestedatt--steps--api_action--headers"></a>
### Nested Schema for `steps.api_action.headers`

Required:

- `key` (String) The key for the header.
- `value` (String) The value for the header.



<a id="nestedatt--steps--approval_action"></a>
### Nested Schema for `steps.approval_action`

Required:

- `required_approvals` (Number) Number of required approvals.


<a id="nestedatt--steps--query_action"></a>
### Nested Schema for `steps.query_action`

Required:

- `credential_id` (String) The ID of the database credential to use.
- `query` (String) The SQL query to execute.
- `timeout` (Number) The timeout for the query.


<a id="nestedatt--steps--slack_action"></a>
### Nested Schema for `steps.slack_action`

Required:

- `link_text` (String) The text to display in the link.
- `message` (String) The message to post.
- `slack_channel` (String) The Slack channel to post to.


<a id="nestedatt--steps--slack_reply_action"></a>
### Nested Schema for `steps.slack_reply_action`

Required:

- `message` (String) The message to reply with.
- `reply_to_step_name` (String) The name of the step to reply to.



<a id="nestedatt--inputs"></a>
### Nested Schema for `inputs`

Required:

- `key` (String) The key for this input.
- `type` (String) The type of this input (string, float, integer, boolean).

Optional:

- `description` (String) A description of what this input is for.
